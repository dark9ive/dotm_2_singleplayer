
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=0,task_give_stone=60..}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"你今天已經完成這個任務了，明天再來吧。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=0,task_give_stone=..59},tag=task_give_stone] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"石材的數量還不夠呢 !\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=..5,task_give_stone=..59},tag=!task_give_stone] run scoreboard players add @s tmp_task 1
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=1}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"你好啊，我是位建築工人。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=2}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"最近因為修復工程需要大量的石材，那是只在採礦場出現的特殊石頭。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=3}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"但我並沒有辦法對付那些魔物們。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=4}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"能請你幫我蒐集一些石材嗎?\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=5}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"只需要把石材拿在手上並回來找我，我就會開始清點數量\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=6}] run scoreboard players enable @s tmp_task
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=6}] run tellraw @s [{"text":"                ","bold":false,"color":"gray"},{"text":"接受","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger tmp_task set 50"}},{"text":"                ","bold":false,"color":"gray"},{"text":"拒絕","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger tmp_task set 49"}},{"text":"\n\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=49}] run tellraw @s [{"text":"已拒絕任務。","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=49}] run scoreboard players set @s tmp_task 0
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=50}] run tellraw @s [{"text":"已接受任務","bold":false,"color":"gray"},{"text":"【每日】收集石材","bold":true,"color":"dark_purple"},{"text":"。(帶回石材 60 個)\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=50}] run tag @s add task_give_stone
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[scores={tmp_task=50}] run scoreboard players set @s tmp_task 0
execute if entity @e[tag=npc_give_stone,distance=..2] if entity @s[tag=task_give_stone] run function dotm_2:task/daily/collect/home/give_stone
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=0,task_give_mine_1=40..}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"你今天已經完成這個任務了，明天再來吧。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=0,task_give_mine_1=..39},tag=task_give_mine_1] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"煤炭的數量還不夠呢 !\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=..4,task_give_mine_1=..39},tag=!task_give_mine_1] run scoreboard players add @s tmp_task 1
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=1}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"你好啊，如你所見，這裡的氣候頗為寒冷。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=2}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"然而庫存的煤炭也越來越少了。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=3}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"能請你幫我到採集場裡蒐集一些煤炭嗎?\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=4}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"只需要把煤炭拿在手上並回來找我，我就會開始清點數量\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=5}] run scoreboard players enable @s tmp_task
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=5}] run tellraw @s [{"text":"                ","bold":false,"color":"gray"},{"text":"接受","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger tmp_task set 50"}},{"text":"                ","bold":false,"color":"gray"},{"text":"拒絕","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger tmp_task set 49"}},{"text":"\n\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=49}] run tellraw @s [{"text":"已拒絕任務。","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=49}] run scoreboard players set @s tmp_task 0
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=50}] run tellraw @s [{"text":"已接受任務","bold":false,"color":"gray"},{"text":"【每日】收集礦物(1)","bold":true,"color":"dark_purple"},{"text":"。(帶回煤炭 40 個)\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=50}] run tag @s add task_give_mine_1
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[scores={tmp_task=50}] run scoreboard players set @s tmp_task 0
execute if entity @e[tag=npc_give_mine_1,distance=..2] if entity @s[tag=task_give_mine_1] run function dotm_2:task/daily/collect/home/give_mine_1
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=0,task_give_mine_2=20..}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"你今天已經完成這個任務了，明天再來吧。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=0,task_give_mine_2=..19},tag=task_give_mine_2] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"鐵錠的數量還不夠呢 !\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=..4,task_give_mine_2=..19},tag=!task_give_mine_2] run scoreboard players add @s tmp_task 1
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=1}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"你好啊，我們這裡鐵資源不足。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=2}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"因此難以製作優良的防具。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=3}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"能請你幫忙到採集場蒐集鐵礦並燒製成鐵錠給我嗎?\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=4}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"只需要把鐵錠拿在手上並回來找我，我就會開始清點數量\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=5}] run scoreboard players enable @s tmp_task
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=5}] run tellraw @s [{"text":"                ","bold":false,"color":"gray"},{"text":"接受","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger tmp_task set 50"}},{"text":"                ","bold":false,"color":"gray"},{"text":"拒絕","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger tmp_task set 49"}},{"text":"\n\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=49}] run tellraw @s [{"text":"已拒絕任務。","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=49}] run scoreboard players set @s tmp_task 0
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=50}] run tellraw @s [{"text":"已接受任務","bold":false,"color":"gray"},{"text":"【每日】收集礦物(2)","bold":true,"color":"dark_purple"},{"text":"。(帶回鐵錠 20 個)\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=50}] run tag @s add task_give_mine_2
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[scores={tmp_task=50}] run scoreboard players set @s tmp_task 0
execute if entity @e[tag=npc_give_mine_2,distance=..2] if entity @s[tag=task_give_mine_2] run function dotm_2:task/daily/collect/home/give_mine_2
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=0,task_give_mine_3=10..}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"你今天已經完成這個任務了，明天再來吧。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=0,task_give_mine_3=..9},tag=task_give_mine_3] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"鑽石的數量還不夠呢 !\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=..4,task_give_mine_3=..9},tag=!task_give_mine_3] run scoreboard players add @s tmp_task 1
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=1}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"你好啊，最近有個富豪要求我們製造高階武器。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=2}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"為此我們發現了一種名為 \"鑽石\" 的物品。\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=3}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"採礦場深部有豐富的鑽石礦，鑽石礦可以燒製成鑽石\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=3}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"但由於採礦場深部極為不安全 能請你幫忙這件事情嗎?\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=4}] run tellraw @s [{"text":"村民","bold":true,"color":"red"},{"text":":","bold":false,"color":"gray"},{"text":"只需要把鑽石拿在手上並回來找我，我就會開始清點數量\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=5}] run scoreboard players enable @s tmp_task
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=5}] run tellraw @s [{"text":"                ","bold":false,"color":"gray"},{"text":"接受","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger tmp_task set 50"}},{"text":"                ","bold":false,"color":"gray"},{"text":"拒絕","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger tmp_task set 49"}},{"text":"\n\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=49}] run tellraw @s [{"text":"已拒絕任務。","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=49}] run scoreboard players set @s tmp_task 0
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=50}] run tellraw @s [{"text":"已接受任務","bold":false,"color":"gray"},{"text":"【每日】收集礦物(3)","bold":true,"color":"dark_purple"},{"text":"。(帶回鑽石 10 個)\n","bold":false,"color":"gray"}]
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=50}] run tag @s add task_give_mine_3
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[scores={tmp_task=50}] run scoreboard players set @s tmp_task 0
execute if entity @e[tag=npc_give_mine_3,distance=..2] if entity @s[tag=task_give_mine_3] run function dotm_2:task/daily/collect/home/give_mine_3
