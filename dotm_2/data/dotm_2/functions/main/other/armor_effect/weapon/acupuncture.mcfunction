
tag @e[type=#dotm_2:all_mob,nbt={HurtTime:10s},sort=nearest,limit=1,distance=..50] add target
data modify entity @e[type=#dotm_2:all_mob,nbt={HurtTime:10s},sort=nearest,limit=1,distance=..50] HurtTime set value 0s
execute as @e[tag=target] store result score #system register run data get entity @s ActiveEffects[{Id:18b}].Amplifier
function dotm_2:main/other/random
execute if score #system random matches ..40 if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":1}] if data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] store result entity @e[tag=target,limit=1,sort=nearest,distance=..50] ActiveEffects[{Id:18b}].Amplifier byte 1 run scoreboard players add #system register 1
execute if score #system random matches ..55 if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":2}] if data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] store result entity @e[tag=target,limit=1,sort=nearest,distance=..50] ActiveEffects[{Id:18b}].Amplifier byte 1 run scoreboard players add #system register 1
execute if score #system random matches ..70 if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":3}] if data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] store result entity @e[tag=target,limit=1,sort=nearest,distance=..50] ActiveEffects[{Id:18b}].Amplifier byte 1 run scoreboard players add #system register 1
execute if score #system random matches ..85 if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":4}] if data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] store result entity @e[tag=target,limit=1,sort=nearest,distance=..50] ActiveEffects[{Id:18b}].Amplifier byte 1 run scoreboard players add #system register 1
execute if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":5}] if data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] store result entity @e[tag=target,limit=1,sort=nearest,distance=..50] ActiveEffects[{Id:18b}].Amplifier byte 1 run scoreboard players add #system register 1
execute if score #system random matches ..40 if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":1}] unless data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] run effect give @e[tag=target,limit=1,distance=..50] minecraft:weakness 100000 0 true
execute if score #system random matches ..55 if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":2}] unless data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] run effect give @e[tag=target,limit=1,distance=..50] minecraft:weakness 100000 0 true
execute if score #system random matches ..70 if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":3}] unless data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] run effect give @e[tag=target,limit=1,distance=..50] minecraft:weakness 100000 0 true
execute if score #system random matches ..85 if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":4}] unless data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] run effect give @e[tag=target,limit=1,distance=..50] minecraft:weakness 100000 0 true
execute if data entity @s SelectedItem.tag.Parameter[{"name":"skill_level","value":5}] unless data entity @e[tag=target,limit=1,distance=..50] ActiveEffects[{Id:18b}] run effect give @e[tag=target,limit=1,distance=..50] minecraft:weakness 100000 0 true
tag @e remove target